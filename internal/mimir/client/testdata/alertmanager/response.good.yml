template_files:
    template1.tmpl: '{{ range .Alerts }}Alert: {{ .Summary }}{{ end }}'
    template2.tmpl: '{{ .CommonLabels.alertname }}'
alertmanager_config: |
    global:
      http_config:
        follow_redirects: true
        enable_http2: true
        proxy_url: http://127.0.0.1:1025
      smtp_from: alertmanager@example.org
      smtp_hello: host.example.org
      smtp_smarthost: localhost:25
      smtp_auth_username: alertmanager
      smtp_auth_password: |-
        multiline
        mysecret
      slack_api_url: http://mysecret.example.com/
    route:
      receiver: team-X-mails
      group_by:
      - alertname
      - cluster
      - service
      routes:
      - receiver: team-X-mails
        match_re:
          service: ^(foo1|foo2|baz)$
        routes:
        - receiver: team-X-pager
          match:
            severity: critical
      - receiver: team-Y-mails
        match:
          service: files
        routes:
        - receiver: team-Y-pager
          match:
            severity: critical
      - receiver: team-DB-pager
        group_by:
        - alertname
        - cluster
        - database
        match:
          service: database
        routes:
        - receiver: team-X-pager
          match:
            owner2: team-X
          continue: true
        - receiver: team-Y-pager
          match:
            owner: team-Y
      group_wait: 30s
      group_interval: 5m
      repeat_interval: 3h
    inhibit_rules:
    - target_match:
        severity: warning
      source_match:
        severity: critical
      equal:
      - alertname
      - cluster
      - service
    receivers:
    - name: team-X-mails
      email_configs:
      - to: team-X+alerts@example.org
    - name: team-X-pager
      pagerduty_configs:
      - routing_key: mysecret
      email_configs:
      - to: team-X+alerts-critical@example.org
    - name: team-Y-mails
      email_configs:
      - to: team-Y+alerts@example.org
    - name: team-Y-pager
      pagerduty_configs:
      - routing_key: mysecret
    - name: team-DB-pager
      pagerduty_configs:
      - routing_key: mysecret
    - name: victorOps-receiver
      victorops_configs:
      - api_key: mysecret
        routing_key: Sample_route
    - name: opsGenie-receiver
      opsgenie_configs:
      - api_key: mysecret
    - name: pushover-receiver
      pushover_configs:
      - user_key: key
        token: mysecret
    - name: slack-receiver
      slack_configs:
      - channel: '#my-channel'
        image_url: http://some.img.com/img.png
    templates:
    - /etc/alertmanager/template/*.tmpl
