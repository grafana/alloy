otelcol.exporter.otlp/default:
    client:
        endpoint: database:4317
otelcol.processor.filter/default_ottl:
    error_mode: ignore
    logs:
        log_record:
            - IsMatch(body, ".*password.*")
            - severity_number < SEVERITY_NUMBER_WARN
    metrics:
        datapoint:
            - metric.type == METRIC_DATA_TYPE_SUMMARY
            - resource.attributes["service.name"] == "my_service_name"
        metric:
            - name == "my.metric" and resource.attributes["my_label"] == "abc123"
            - type == METRIC_DATA_TYPE_HISTOGRAM
    output:
        logs:
            - expr(otelcol.exporter.otlp.default.input)
        metrics:
            - expr(otelcol.exporter.otlp.default.input)
        traces:
            - expr(otelcol.exporter.otlp.default.input)
    traces:
        span:
            - attributes["container.name"] == "app_container_1"
            - resource.attributes["host.name"] == "localhost"
            - name == "app_3"
        spanevent:
            - attributes["grpc"] == true
            - IsMatch(name, ".*grpc.*")
otelcol.receiver.otlp/default:
    grpc:
        endpoint: localhost:4317
    http:
        endpoint: localhost:4318
    output:
        logs:
            - expr(otelcol.processor.filter.default_ottl.input)
        metrics:
            - expr(otelcol.processor.filter.default_ottl.input)
        traces:
            - expr(otelcol.processor.filter.default_ottl.input)
